# WebRabbit-DSR-
Здесь представлено 2 веб-сервиса, которые образуют систему взаимодействия между пользователями и клиентскими устройствами.
Сервис для пользователей представлен WebCommandDevice, который посылает команды WebControlDevice, с которым взаимодействуют клиентские устройства.
Также он предоставляет возможность просмотра истории команд по каждому устройству отдельно при помощи БД MongoDB.

WebControlDevice поставляет команды в виде очереди, которая реализована при помощи RabbitMQ. Большая функциональная часть сервиса связана
с отправкой и получением команд из очереди, при этом происходит проверка команды на время и, если она просрочена, то команда не поступает на выполнение. В случае отсутствия команд, организуется long-polling соединение до получения команды или до истечения timeout. В случае истечении времени, происходит отправка NotFound и сервер ждет нового соединения от устройства.

ВНИМАНИЕ: если GET-команда по запросу сообщений в очереди долго ждет команду, которую отправили, то вероятно, что между отправлением команды и ее запросом время превысило таймаут команды, для GetInfo он 30 секунд, но для Delete он 15. Разброс делал для тестирования системы.

